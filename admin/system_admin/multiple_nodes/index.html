



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="LeoProject makes LeoFS, which is an open source distributed object storage system and a highly available, distributed, eventually consistent storage system. LeoFS is supporting the following features:Multi-protocol Support - S3-API, REST-API and NFS v3, Large Object Support, Multi Data Center Replication and others.">
      
      
      
        <meta name="author" content="LeoProject">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.3, mkdocs-material-2.7.1">
    
    
      
        <title>Multiple Node Instances - LeoFS Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.78aab2dc.css">
      
    
    
      <script src="../../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#mutiple-instances-of-nodes-on-the-same-system" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../.." title="LeoFS Documentation" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                LeoFS Documentation
              </span>
              <span class="md-header-nav__topic">
                Multiple Node Instances
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/leo-project/leofs/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </span>
    LeoFS Documentation
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/leo-project/leofs/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../whats_new/" title="What's New?" class="md-nav__link">
      What's New?
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Getting Started
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Getting Started
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../installation/quick/" title="Quick Installation and Setup" class="md-nav__link">
      Quick Installation and Setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../installation/cluster/" title="Building a LeoFS' cluster with Ansible" class="md-nav__link">
      Building a LeoFS' cluster with Ansible
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Concept and Architecture
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Concept and Architecture
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../architecture/README/" title="LeoFS' Architecture" class="md-nav__link">
      LeoFS' Architecture
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../architecture/leo_gateway/" title="LeoGateway's Architecture" class="md-nav__link">
      LeoGateway's Architecture
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../architecture/leo_storage/" title="LeoStorage's Architecture" class="md-nav__link">
      LeoStorage's Architecture
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../architecture/leo_manager/" title="LeoManager's Architecture" class="md-nav__link">
      LeoManager's Architecture
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" checked>
    
    <label class="md-nav__link" for="nav-5">
      For Administrators
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        For Administrators
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-1" type="checkbox" id="nav-5-1">
    
    <label class="md-nav__link" for="nav-5-1">
      Setup
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-1">
        Setup
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../setup/planning_for_production/" title="Planning for Production" class="md-nav__link">
      Planning for Production
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../setup/supported_platforms/" title="Supported Platforms" class="md-nav__link">
      Supported Platforms
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../setup/hardware_requirements/" title="Hardware Requirements" class="md-nav__link">
      Hardware Requirements
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../setup/network_config/" title="Network Configurations" class="md-nav__link">
      Network Configurations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../load_balancing/" title="Load Balancing Configuration" class="md-nav__link">
      Load Balancing Configuration
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-2" type="checkbox" id="nav-5-2">
    
    <label class="md-nav__link" for="nav-5-2">
      Settings
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-2">
        Settings
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../settings/cluster/" title="Cluster Settings" class="md-nav__link">
      Cluster Settings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../settings/environment_config/" title="Environment Configuration" class="md-nav__link">
      Environment Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../settings/leo_manager/" title="LeoManager Settings" class="md-nav__link">
      LeoManager Settings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../settings/leo_storage/" title="LeoStorage Settings" class="md-nav__link">
      LeoStorage Settings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../settings/leo_gateway/" title="LeoGateway Settings" class="md-nav__link">
      LeoGateway Settings
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-3" type="checkbox" id="nav-5-3">
    
    <label class="md-nav__link" for="nav-5-3">
      Interface
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-3">
        Interface
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocols/s3/" title="S3-API" class="md-nav__link">
      S3-API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocols/rest/" title="REST-API" class="md-nav__link">
      REST-API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocols/nfs_v3/" title="NFS v3" class="md-nav__link">
      NFS v3
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-4" type="checkbox" id="nav-5-4">
    
    <label class="md-nav__link" for="nav-5-4">
      System Operations
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-4">
        System Operations
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../system_operations/flow/" title="Operation Flow" class="md-nav__link">
      Operation Flow
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../system_operations/systemd/" title="Systemd Services" class="md-nav__link">
      Systemd Services
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../system_operations/s3/" title="S3-API related Operations" class="md-nav__link">
      S3-API related Operations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../system_operations/cluster/" title="Cluster Operations" class="md-nav__link">
      Cluster Operations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../system_operations/data/" title="Data Operations" class="md-nav__link">
      Data Operations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../system_operations/multi_dc_replication/" title="Multi Data Center Replication" class="md-nav__link">
      Multi Data Center Replication
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-5" type="checkbox" id="nav-5-5" checked>
    
    <label class="md-nav__link" for="nav-5-5">
      System Administration
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-5">
        System Administration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../log_management/" title="Log Management" class="md-nav__link">
      Log Management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../persistent_configuration/" title="Persistent Configuration" class="md-nav__link">
      Persistent Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../monitoring/" title="System Monitoring" class="md-nav__link">
      System Monitoring
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../migration/" title="System Migration" class="md-nav__link">
      System Migration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../integration/" title="System Integration" class="md-nav__link">
      System Integration
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Multiple Node Instances
      </label>
    
    <a href="./" title="Multiple Node Instances" class="md-nav__link md-nav__link--active">
      Multiple Node Instances
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#description-and-requirements" title="Description and requirements" class="md-nav__link">
    Description and requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preparing-more-instances-of-the-same-node" title="Preparing more instances of the same node" class="md-nav__link">
    Preparing more instances of the same node
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#list-of-options-that-must-have-different-settings" title="List of options that must have different settings" class="md-nav__link">
    List of options that must have different settings
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#starting-other-node-instances" title="Starting other node instances" class="md-nav__link">
    Starting other node instances
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-configuration" title="Example configuration" class="md-nav__link">
    Example configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#related-links" title="Related Links" class="md-nav__link">
    Related Links
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../index_of_commands/" title="Index of LeoFS' Commands" class="md-nav__link">
      Index of LeoFS' Commands
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../benchmark/README/" title="Benchmark" class="md-nav__link">
      Benchmark
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      FAQ
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        FAQ
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../faq/fundamentals/" title="LeoFS Fundamentals" class="md-nav__link">
      LeoFS Fundamentals
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../faq/limits/" title="LeoFS Limits" class="md-nav__link">
      LeoFS Limits
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../faq/administration/" title="LeoFS Administration" class="md-nav__link">
      LeoFS Administration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../faq/client/" title="LeoFS Clients" class="md-nav__link">
      LeoFS Clients
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../production_checklist/README/" title="Production Checklist" class="md-nav__link">
      Production Checklist
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      RFCS
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        RFCS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-1" type="checkbox" id="nav-9-1">
    
    <label class="md-nav__link" for="nav-9-1">
      Data Protection
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-1">
        Data Protection
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../RFCS/data_protection/ssec/" title="Server Side Object Encryption with Customer-Provided Encryption Keys" class="md-nav__link">
      Server Side Object Encryption with Customer-Provided Encryption Keys
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#description-and-requirements" title="Description and requirements" class="md-nav__link">
    Description and requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preparing-more-instances-of-the-same-node" title="Preparing more instances of the same node" class="md-nav__link">
    Preparing more instances of the same node
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#list-of-options-that-must-have-different-settings" title="List of options that must have different settings" class="md-nav__link">
    List of options that must have different settings
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#starting-other-node-instances" title="Starting other node instances" class="md-nav__link">
    Starting other node instances
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-configuration" title="Example configuration" class="md-nav__link">
    Example configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#related-links" title="Related Links" class="md-nav__link">
    Related Links
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/leo-project/leofs/edit/master/docs/admin/system_admin/multiple_nodes.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="mutiple-instances-of-nodes-on-the-same-system">Mutiple instances of nodes on the same system<a class="headerlink" href="#mutiple-instances-of-nodes-on-the-same-system" title="Permanent link">&para;</a></h1>
<h2 id="description-and-requirements">Description and requirements<a class="headerlink" href="#description-and-requirements" title="Permanent link">&para;</a></h2>
<p>Starting from v1.3.8, there is support for running multiple instances of the same node types on a single system (without use of containers or other type of isolation). This is useful for users who want to do things like</p>
<ul>
<li>Running two (or more) gateways on the same system (in the same or different mode, e.g. S3 gateway + REST gateway)</li>
<li>Running two (or more) completely isolated clusters with different settings on the same set of storage servers</li>
</ul>
<p>This feature currently works only on Linux. Other prerequisites for activating it are:</p>
<ul>
<li>Nodes must be launched as systemd services. See <a href="../../system_operations/systemd/">For Administrators / System Operations / Systemd Services</a> for details on enabling this feature.</li>
<li>Nodes must load configuration from <code class="codehilite">/etc/leofs</code>. See <a href="../persistent_configuration/">For Administrators / System Administration / Persistent Configuration Location</a> for details on enabling this feature.</li>
<li><strong>All paths and ports</strong> in config files must be explicitly set for each instance and point to different locations. It's up to user to ensure that there are no conflicting paths.</li>
</ul>
<p>This is advanced feature aimed at existing LeoFS users who need to run another cluster or more gateways using the same hardware; it is recommended to have a working cluster where all work and log directories are configured to use non-default locations before enabling this.</p>
<h2 id="preparing-more-instances-of-the-same-node">Preparing more instances of the same node<a class="headerlink" href="#preparing-more-instances-of-the-same-node" title="Permanent link">&para;</a></h2>
<p>Let's say we have LeoStorage instance running through systemd (<code class="codehilite">leofs-storage</code> service) and currently it loads configuration from <code class="codehilite">/etc/leofs/leo_storage</code>. We want to run another instance on the same system; it needs separate name. In this example, we'll call it "second". To create such instance:</p>
<ol>
<li>Create local copy of systemd unit file with new name<ul>
<li>EL7&nbsp;version: <code class="codehilite">cp /usr/lib/systemd/system/leofs-storage.service /etc/systemd/system/leofs-storage-second.service</code>.</li>
<li>Ubuntu&nbsp;16.04&nbsp;version: <code class="codehilite">cp /lib/systemd/system/leofs-storage.service /etc/systemd/system/leofs-storage-second.service</code>.</li>
</ul>
</li>
<li>Edit <code class="codehilite">/etc/systemd/system/leofs-storage-second.service</code>, changing <code class="codehilite">Environment=NODE_EXTRA_NAME=</code> line to <code class="codehilite">Environment=NODE_EXTRA_NAME=second</code>.</li>
<li>Reload systemd configuration: <code class="codehilite">systemctl daemon-reload</code>.</li>
</ol>
<p>First step here depends on distribution because default location of systemd unit file can differ; it can be checked in "UNIT FILE LOAD PATH" section of systemd.unit(5) man page.</p>
<p>This instance would try to load configuration from <code class="codehilite">/etc/leofs/leo_storage_second</code> upon launch. This configuration hierarchy needs to be created as well:</p>
<ol>
<li>Create new configuration directory and *.d subdirectory: <code class="codehilite">mkdir -p /etc/leofs/leo_storage_second/leo_storage.d</code>.</li>
<li>Change permissions of configuration directory so it's <strong>writable</strong> by user running LeoFS ("leofs", unless changed manually): <code class="codehilite">chown leofs:leofs /etc/leofs/leo_storage_second</code>.</li>
<li>Copy main configuration file (if you plan to change it) or symlink it (if you only plan to use conf.d-style configuration override): <code class="codehilite">cp /etc/leofs/leo_storage/leo_storage.conf /etc/leofs/leo_storage_second/</code>.</li>
<li>Change configuration of new node, ensuring all paths and ports point to different location from first instance of that node.</li>
<li>Create directories (logs/queue/etc) for the new node and set appropriate permissions on them.</li>
</ol>
<h2 id="list-of-options-that-must-have-different-settings">List of options that must have different settings<a class="headerlink" href="#list-of-options-that-must-have-different-settings" title="Permanent link">&para;</a></h2>
<p>All these options must be explicitly set in config files and have different settings for each instance of the node on the same system. For gateway and storage:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>nodename

sasl.sasl_error_log
sasl.error_logger_mf_dir

log.erlang
log.app
log.member_dir
log.ring_dir

queue_dir
erlang.crash_dump
snmp_conf
</pre></div>
</td></tr></table>

<p>For storage nodes, additionally:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>rpc.server.listen_port
obj_containers.path
leo_ordning_reda.temp_stacked_dir
</pre></div>
</td></tr></table>

<p>For gateways running in HTTP mode (S3 / REST), additionally:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>http.port
http.ssl_port
</pre></div>
</td></tr></table>

<p>Please note that this list might be not complete as new options might be added to config files. When using this feature, <strong>it's up to user to ensure that all paths above point to different directories</strong>. Trying to share the same ports or snmp_conf setting between nodes would result in second instance failing to start, but trying to share log or queue directory could lead to disastrous results. <strong>Always double-check that all paths are different before using this feature.</strong></p>
<h2 id="starting-other-node-instances">Starting other node instances<a class="headerlink" href="#starting-other-node-instances" title="Permanent link">&para;</a></h2>
<p>After second instance is properly configured, it can be started in parallel with the first one with <code class="codehilite">systemctl start leofs-storage-second</code> command.</p>
<p>It is possible to check whether nodes actually try to load configuration from different directories (<a href="../persistent_configuration/#how-to-check-which-configuration-directory-is-used">described here in more detail</a>):</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span># journalctl -l -u leofs-storage | grep -e Exec -e Config
Sep 20 17:41:42 stor01.lan leo_storage[9513]: Config path: /etc/leofs/leo_storage
Sep 20 17:41:42 stor01.lan leo_storage[9513]: Exec: /usr/local/leofs/current/leo_storage/erts-9.0/bin/erlexec -noinput -boot /usr/local/leofs/current/leo_storage/releases/1/leo_storage -mode minimal -config /etc/leofs/leo_storage/app.config -args_file /etc/leofs/leo_storage/vm.args -- console

# journalctl -l -u leofs-storage-second | grep -e Exec -e Config
Sep 20 17:40:43 stor01.lan leo_storage[9065]: Config path: /etc/leofs/leo_storage_second
Sep 20 17:40:43 stor01.lan leo_storage[9065]: Exec: /usr/local/leofs/current/leo_storage/erts-9.0/bin/erlexec -noinput -boot /usr/local/leofs/current/leo_storage/releases/1/leo_storage -mode minimal -config /etc/leofs/leo_storage_second/app.config -args_file /etc/leofs/leo_storage_second/vm.args -- console
</pre></div>
</td></tr></table>

<div class="admonition note">
<p class="admonition-title">Note: Multiple LeoManager instances</p>
<p>It is possible to run multiple instances of LeoManager as well, but the resulting configuration and <code class="codehilite">leofs-adm</code> operations would be more complicated, so it's not recommended (as results of error might be severe). It would be better to use separate VMs or containers for different LeoManagers.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note: Interacting with other instances through launch script</p>
<p>It is possible to interact with extra node instances through original launch script, however it requires a bit roundabout way of exporting environment variable as the owner of process. Example: <code class="codehilite">sudo -H -u leofs sh -c &quot;export NODE_EXTRA_NAME=second; /usr/local/leofs/current/leo_storage/bin/leo_storage remote_console&quot;</code></p>
</div>
<h2 id="example-configuration">Example configuration<a class="headerlink" href="#example-configuration" title="Permanent link">&para;</a></h2>
<p>Here is fully working configuration example for two storage nodes belonging to two different clusters and working on the same system. Second instance is called "second" here (unit file for it is located at <code class="codehilite">/etc/systemd/system/leofs-storage-second.service</code> and it contains <code class="codehilite">Environment=NODE_EXTRA_NAME=second</code> setting).</p>
<p>Directories and permissions:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span># ls -ld /etc/leofs/leo_storage /etc/leofs/leo_storage_second/
drwxr-sr-x. 3 leofs leofs 4096 Sep 22 20:47 /etc/leofs/leo_storage
drwxr-sr-x. 3 leofs leofs 4096 Sep 20 17:44 /etc/leofs/leo_storage_second/
</pre></div>
</td></tr></table>

<p>Main configuration for second node is symlinked to first - preferred when configuring nodes through configuration override files. This allows automatically getting new default settings with package upgrades (which include new version of <code class="codehilite">/etc/leofs/leo_storage/leo_storage.conf</code>):</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span># ls -l /etc/leofs/leo_storage_second/leo_storage.conf
lrwxrwxrwx. 1 root leofs 31 Sep 19 21:09 /etc/leofs/leo_storage_second/leo_storage.conf -&gt; ../leo_storage/leo_storage.conf
</pre></div>
</td></tr></table>

<p>Contents of <code class="codehilite">/etc/leofs/leo_storage/leo_storage.d/20-leo_storage.conf</code> - configuration for the first node:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">nodename</span> <span class="o">=</span> <span class="n">stor01</span><span class="mf">@192.168.0.20</span>
<span class="n">managers</span> <span class="o">=</span> <span class="p">[</span><span class="n">manager_0</span><span class="mf">@192.168.0.10</span><span class="p">,</span> <span class="n">manager_1</span><span class="mf">@192.168.0.11</span><span class="p">]</span>

<span class="n">obj_containers</span><span class="p">.</span><span class="n">path</span> <span class="o">=</span> <span class="p">[</span><span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="n">avs</span><span class="o">/</span><span class="n">main</span><span class="p">]</span>
<span class="n">obj_containers</span><span class="p">.</span><span class="n">num_of_containers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">64</span><span class="p">]</span>

<span class="n">sasl</span><span class="p">.</span><span class="n">sasl_error_log</span> <span class="o">=</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">log</span><span class="o">/</span><span class="n">leofs</span><span class="o">/</span><span class="n">leo_storage</span><span class="o">/</span><span class="n">sasl</span><span class="o">/</span><span class="n">sasl</span><span class="o">-</span><span class="n">error</span><span class="p">.</span><span class="n">log</span>
<span class="n">sasl</span><span class="p">.</span><span class="n">error_logger_mf_dir</span> <span class="o">=</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">log</span><span class="o">/</span><span class="n">leofs</span><span class="o">/</span><span class="n">leo_storage</span><span class="o">/</span><span class="n">sasl</span>

<span class="n">log</span><span class="p">.</span><span class="n">erlang</span> <span class="o">=</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">log</span><span class="o">/</span><span class="n">leofs</span><span class="o">/</span><span class="n">leo_storage</span><span class="o">/</span><span class="n">erlang</span>
<span class="n">log</span><span class="p">.</span><span class="n">app</span> <span class="o">=</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">log</span><span class="o">/</span><span class="n">leofs</span><span class="o">/</span><span class="n">leo_storage</span><span class="o">/</span><span class="n">app</span>
<span class="n">log</span><span class="p">.</span><span class="n">member_dir</span> <span class="o">=</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">log</span><span class="o">/</span><span class="n">leofs</span><span class="o">/</span><span class="n">leo_storage</span><span class="o">/</span><span class="n">ring</span>
<span class="n">log</span><span class="p">.</span><span class="n">ring_dir</span> <span class="o">=</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">log</span><span class="o">/</span><span class="n">leofs</span><span class="o">/</span><span class="n">leo_storage</span><span class="o">/</span><span class="n">ring</span>

<span class="n">queue_dir</span>  <span class="o">=</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">leofs</span><span class="o">/</span><span class="n">leo_storage</span><span class="o">/</span><span class="n">work</span><span class="o">/</span><span class="n">queue</span>
<span class="n">leo_ordning_reda</span><span class="p">.</span><span class="n">temp_stacked_dir</span> <span class="o">=</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">leofs</span><span class="o">/</span><span class="n">leo_storage</span><span class="o">/</span><span class="n">work</span><span class="o">/</span><span class="n">ord_reda</span><span class="o">/</span>
<span class="n">erlang</span><span class="p">.</span><span class="n">crash_dump</span> <span class="o">=</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">log</span><span class="o">/</span><span class="n">leofs</span><span class="o">/</span><span class="n">leo_storage</span><span class="o">/</span><span class="n">erl_crash</span><span class="p">.</span><span class="n">dump</span>

<span class="n">snmp_conf</span> <span class="o">=</span> <span class="p">.</span><span class="o">/</span><span class="n">snmp</span><span class="o">/</span><span class="n">snmpa_storage_0</span><span class="o">/</span><span class="n">leo_storage_snmp</span>
</pre></div>
</td></tr></table>

<p>Contents of <code class="codehilite">/etc/leofs/leo_storage_second/leo_storage.d/20-leo_storage.conf</code> - configuration for second node</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">nodename</span> <span class="o">=</span> <span class="n">stor_second01</span><span class="mf">@192.168.0.20</span>
<span class="n">managers</span> <span class="o">=</span> <span class="p">[</span><span class="n">manager_0</span><span class="mf">@192.168.0.15</span><span class="p">,</span> <span class="n">manager_1</span><span class="mf">@192.168.0.16</span><span class="p">]</span>

<span class="n">rpc</span><span class="p">.</span><span class="n">server</span><span class="p">.</span><span class="n">listen_port</span> <span class="o">=</span> <span class="mi">13078</span>

<span class="n">obj_containers</span><span class="p">.</span><span class="n">path</span> <span class="o">=</span> <span class="p">[</span><span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="n">avs</span><span class="o">/</span><span class="n">second</span><span class="p">]</span>
<span class="n">obj_containers</span><span class="p">.</span><span class="n">num_of_containers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">32</span><span class="p">]</span>

<span class="n">object_storage</span><span class="p">.</span><span class="n">is_strict_check</span> <span class="o">=</span> <span class="nb">true</span>
<span class="n">watchdog</span><span class="p">.</span><span class="n">error</span><span class="p">.</span><span class="n">is_enabled</span> <span class="o">=</span> <span class="nb">true</span>
<span class="n">autonomic_op</span><span class="p">.</span><span class="n">compaction</span><span class="p">.</span><span class="n">is_enabled</span> <span class="o">=</span> <span class="nb">true</span>

<span class="n">sasl</span><span class="p">.</span><span class="n">sasl_error_log</span> <span class="o">=</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">log</span><span class="o">/</span><span class="n">leofs</span><span class="o">/</span><span class="n">leo_storage_second</span><span class="o">/</span><span class="n">sasl</span><span class="o">/</span><span class="n">sasl</span><span class="o">-</span><span class="n">error</span><span class="p">.</span><span class="n">log</span>
<span class="n">sasl</span><span class="p">.</span><span class="n">error_logger_mf_dir</span> <span class="o">=</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">log</span><span class="o">/</span><span class="n">leofs</span><span class="o">/</span><span class="n">leo_storage_second</span><span class="o">/</span><span class="n">sasl</span>

<span class="n">log</span><span class="p">.</span><span class="n">erlang</span> <span class="o">=</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">log</span><span class="o">/</span><span class="n">leofs</span><span class="o">/</span><span class="n">leo_storage_second</span><span class="o">/</span><span class="n">erlang</span>
<span class="n">log</span><span class="p">.</span><span class="n">app</span> <span class="o">=</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">log</span><span class="o">/</span><span class="n">leofs</span><span class="o">/</span><span class="n">leo_storage_second</span><span class="o">/</span><span class="n">app</span>
<span class="n">log</span><span class="p">.</span><span class="n">member_dir</span> <span class="o">=</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">log</span><span class="o">/</span><span class="n">leofs</span><span class="o">/</span><span class="n">leo_storage_second</span><span class="o">/</span><span class="n">ring</span>
<span class="n">log</span><span class="p">.</span><span class="n">ring_dir</span> <span class="o">=</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">log</span><span class="o">/</span><span class="n">leofs</span><span class="o">/</span><span class="n">leo_storage_second</span><span class="o">/</span><span class="n">ring</span>

<span class="n">queue_dir</span>  <span class="o">=</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">leofs</span><span class="o">/</span><span class="n">leo_storage_second</span><span class="o">/</span><span class="n">work</span><span class="o">/</span><span class="n">queue</span>
<span class="n">leo_ordning_reda</span><span class="p">.</span><span class="n">temp_stacked_dir</span> <span class="o">=</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">leofs</span><span class="o">/</span><span class="n">leo_storage_second</span><span class="o">/</span><span class="n">work</span><span class="o">/</span><span class="n">ord_reda</span><span class="o">/</span>
<span class="n">erlang</span><span class="p">.</span><span class="n">crash_dump</span> <span class="o">=</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">log</span><span class="o">/</span><span class="n">leofs</span><span class="o">/</span><span class="n">leo_storage_second</span><span class="o">/</span><span class="n">erl_crash</span><span class="p">.</span><span class="n">dump</span>

<span class="n">snmp_conf</span> <span class="o">=</span> <span class="p">.</span><span class="o">/</span><span class="n">snmp</span><span class="o">/</span><span class="n">snmpa_storage_1</span><span class="o">/</span><span class="n">leo_storage_snmp</span>
</pre></div>
</td></tr></table>

<p>Each node requires own set of directories with appropriate permissions:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span># mkdir -p /var/leofs/leo_storage/work/queue /var/log/leofs/leo_storage/app /var/leofs/leo_storage/work/ord_reda /var/log/leofs/leo_storage/sasl
# chown -R leofs:leofs /var/leofs/leo_storage/ /var/log/leofs/
# mkdir -p /var/leofs/leo_storage_second/work/queue /var/log/leofs/leo_storage_second/app /var/leofs/leo_storage_second/work/ord_reda /var/log/leofs/leo_storage_second/sasl
# chown -R leofs:leofs /var/leofs/leo_storage_second/
</pre></div>
</td></tr></table>

<h2 id="related-links">Related Links<a class="headerlink" href="#related-links" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="../../system_operations/systemd/">For Administrators / System Operations / Systemd Services</a></li>
<li><a href="../persistent_configuration/">For Administrators / System Administration / Persistent Configuration Location</a></li>
</ul>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../integration/" title="System Integration" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                System Integration
              </span>
            </div>
          </a>
        
        
          <a href="../../index_of_commands/" title="Index of LeoFS' Commands" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Index of LeoFS' Commands
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            (c) 2012-2018 LeoProject. All rights reserved.
          </div>
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.8eb9be28.js"></script>
      
      <script>app.initialize({version:"0.17.3",url:{base:"../../.."}})</script>
      
    
    
      
        <script>!function(e,a,t,n,o,c,i){e.GoogleAnalyticsObject=o,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),i=a.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",i.parentNode.insertBefore(c,i)}(window,document,"script",0,"ga"),ga("create","UA-5301881-3","leo-project.net"),ga("set","anonymizeIp",!0),ga("send","pageview");var links=document.getElementsByTagName("a");if(Array.prototype.map.call(links,function(e){e.host!=document.location.host&&e.addEventListener("click",function(){var a=e.getAttribute("data-md-action")||"follow";ga("send","event","outbound",a,e.href)})}),document.forms.search){var query=document.forms.search.query;query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}</script>
      
    
  </body>
</html>